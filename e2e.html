<script>
var jenkinsRoot = "https://ci.int.zone/jenkins";

var rows = [
	{ name: "UAM bulk-accounts-import", job: "uam/master/tests/master/bulk-accounts-import"},
	{ name: "UAM customers-onboarding", job: "uam/master/tests/master/customers-onboarding"},
	{ name: "UAM reseller-management", job: "uam/master/tests/master/reseller-management"},
	{ name: "UAM performance", job: "trunk/tests/perftests-ng/perftest-uam", skipStable: true},
	{ name: "GDPR gdpr-management", job: "gdpr/master/tests/master/gdpr-management" },
	{ name: "GDPR gdpr-management-ui", job: "gdpr/master/tests/master/gdpr-management-ui"},
	{ name: "GDPR management srv", job: "gdpr/master/tests/master/gdpr-management-with-services"},
	{ name: "BSS password-policy", job: "bss/master/tests/master/password-policy"},
	{ name: "BSS UX1", job: "bss/master/tests/master/ux1"},
	{ name: "Web analytics", job: "bss/master/tests/master/web-analytics" },
	{ name: "Subscription maintenance", job: "bss/master/tests/master/subscription-maintenance" },
	{ name: "RE Transfer Account", job: "bss/master/tests/master/transfer-account-subscription-with-re" },
	{ name: "OSS gdpr", job: "oss/master/tests/master/gdpr" },
	{ name: "OSS gdpr-privacy-notice", job: "oss/master/tests/master/gdpr-privacy-notice" },
	{ name: "OSS license-management", job: "oss/master/tests/master/license-management" },
	{ name: "OSS user-management-basic", job: "oss/master/tests/master/user-management-basic" },
	{ name: "OSS user-management-advanced", job: "oss/master/tests/master/user-management-advanced" },
	{ name: "OSS user-events-and-services", job: "oss/master/tests/master/user-events-and-services" },
	{ name: "OSS account-notes", job: "oss/master/tests/master/account-notes" },
	{ name: "CEP", job: "bss/master/tests/master/cep" },
	{ name: "IDP", job: "idp-backend/master/tests/master/idp" },
	{ name: "RDE", job: "rateddataexport/unstable/tests/master/rateddataexport" },
	{ name: "RE migrator", job: "ratingengine-backend/master/tests/master/ratingengine-migration" },
	{ name: "RE migrator 1.6", job: "ratingengine-backend/release-16/tests/21.0/ratingengine-migration"}
];

function jobUrl(job) {
	return jenkinsRoot + "/view/components/" + job.split("/").map(part => { return "job/" + part; }).join("/");
}

function imageUrl(job, isStable) {
	return jenkinsRoot + "/buildStatus/icon?job=" + encodeURIComponent(job) + (isStable ? "&build=last:${params.BUILD_NAME=}" : "&subject=%20%20%20%20%20%20%20%20%20%20%20%20%20 ${params.BUILD_NAME}");
}

function buildA(job, isStable) {
	var a = document.createElement('a');
	a.setAttribute("href", jobUrl(job));
	var img = document.createElement("img");
	img.setAttribute("src", imageUrl(job, isStable));
	a.appendChild(img);
	return a;
}

function onload() {
	var root = document.getElementById("root");

	rows.forEach(function (data) {
		var row = root.insertRow();
		row.insertCell().appendChild(document.createTextNode(data.name));
		row.insertCell().appendChild(buildA(data.job, false));
		if (!data.skipStable) {
			row.insertCell().appendChild(buildA(data.job, true));
		}
	});
}
</script>

<body onload="onload()">
	<table id="root">
		<tr>
			<th>Name</th>
			<th>latest</th>
			<th>stable</th>
		</tr>
	</table>
</body>
